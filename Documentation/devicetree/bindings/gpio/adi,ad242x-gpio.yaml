# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: "http://devicetree.org/schemas/gpio/adi,ad242x-gpio.yaml#"
$schema: "http://devicetree.org/meta-schemas/core.yaml#"

title: Analog Devices AD242x GPIO controller

maintainers:
  - Daniel Mack <daniel@zonque.org>

description: |
  This module is part of the AD242x MFD device. For more details and an example
  refer to Documentation/devicetree/bindings/mfd/ad242x.yaml.

properties:
  compatible:
    enum:
      - adi,ad2428w-gpio

  "#gpio-cells":
    const: 2

  gpio-controller: true

  gpio-over-distance:
    type: object
    description: |
      Sub-node to configure pins as 'GPIO over distance'.
      Pins in this mode are not accessible as regular GPIOs; instead, their
      state is transparantly mirrored between one or multiple nodes.

      Each child node of the 'gpio-over-distance' node describes one pin
      that is to be configured in 'over distance' mode

    properties:
      pin:
        type: object
        properties:
          reg:
            maxItems: 1

          adi,virtual-port-mask:
            $ref: '/schemas/types.yaml#/definitions/uint32'
            description: |
              The virtual port mask to assign this GPIO to.
              Multiple GPIOs can use the same virtual port to link them
              together. Refer to the datasheet for the details.

          adi,gpio-output:
            type: boolean
            description: Configures this GPIO as output. Defaults to input mode.

          adi,gpio-inverted:
            type: boolean
            description: Inverts the GPIO value

        required:
          - reg
          - adi,virtual-port-mask

required:
  - compatible
  - '#gpio-cells'
  - gpio-controller
